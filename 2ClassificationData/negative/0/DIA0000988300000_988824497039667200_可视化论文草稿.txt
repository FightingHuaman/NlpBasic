Data classification and Visual Analysis of Macau to Mainland-destination Using Data-Driven Documents

概要
与传统的信息可视化(information visualization)不同，现在的信息可视化对美的要求与日俱增，进而诞生了新的分支--艺术可视化(artistic visualization)。时至今日，两个领域都涌现了很多成果，但科技与美感似乎也产生了分歧。我认为，实用性与美观性并不矛盾，二者是可以兼得相互结合的。
为了探索这一模糊领域，经过分析风格，收集数据，本文设计了一个"澳门国际机场内地通航航点"的可视化。之后，我利用用户调研与自我分析两种手段，从不同的角度浅谈三个问题： 如何构思一个美的可视化? 我们可以从一个简单的可视化设计中得到什么? 什么是一个好的可视化设计? 我希望从这样一个基础的可视化案例入手，努力寻求实用性与美观性的平衡。
1, 介绍
可视化有一个普遍的技术解释是：可视化是利用计算机图形学和图像处理技术，将数据转换成图形或图像在屏幕上显示出来，并进行交互处理的理论、方法和技术。自人类诞生之初，通过包括符号图画在内的视觉形象进行可视化一直是传达抽象或具体想法与观念的重要途径之一。从远古的洞穴壁画，到埃及的象形文字，从希腊的几何图形，到派别林立的绘画艺术，都是如此。
时至今日，我们又迎来了一波可视化的浪潮。人们愈发意识到，数组组合形成的简单图形与短文本文字的信息组合更加直接地传递出作者的思想观点。相比长篇大论枯燥的文本，大大降低理解成本，提升阅读效率。
与此同时，也有另一部分人开始以数据为颜料，以计算机图形学工具与图像处理技术为笔，进行数字艺术创作，并渐渐形成了一个新的分支，艺术可视化。这一派的作品最为独到之处在于他们更加追求艺术的美感，而不严格恪守数字的精确。他们以牺牲数据所蕴含的信息为代价・，来换取美感的传达与抽象思维的表达。比起"学者"他们更像是"画家"。
在信息可视化与艺术可视化两个领域的界限逐渐清晰地同时，我对于两种可视化的结合产生了浓厚的兴趣。
2, 准备工作
受限于每个人身份不同，地域不同，受教育程度不同等等成长背景方面的不同，人们对美的定义也不尽相同。在 "什么是美"的问题上，我们往往难以达成共识。然而我们都知道的是，一个绘画新手往往从 "临摹"名画学起，如果不会创作，那么不妨从"复刻"开始。这里我们就大胆引入一些在近现代艺术史上极负盛名的荷兰风格派艺术风格的思想。
2.1从荷兰风格派(De Stijl)说起
荷兰风格派又被称为新造型主义(neoplasticism)，是以皮特・科内利斯・蒙德里安(Piet Cornelies Mondrian)为首的荷兰画家在上世纪初开创的。他们大多习惯运用简单的线条与原色作画，以抽象的手法表达他们内心的情感，或是对世界的思考，而非直观具象地呈现一个场景。这之中又尤以蒙德里安的"红, 黄, 蓝构图"最为著名。从创作之初，他的作品一直都是艺术生们色构作业的热门模仿对象。时至今日，荷兰风格派更是成为了为数不多融入了我们的生活中的艺术流派。海牙市政大楼，YSL的化妆品和服装，从建筑到广告，都能见到以蒙德里安设计思想为基础的作品。可以说，蒙德里安不仅仅开创了一个绘画风格，更是引领了一种设计风潮。同样的，这种设计风格也适用于可视化，并且已经有人在可视化当中进行探索尝试。
2.2解构蒙德里安的画作
当代艺术浪潮下，不少艺术家选择通过解构来寻求新的灵感与突破。受此启发，本次设计中，我也选择通过解构蒙德里安设计中的一点基础要素，来应用在呈现在可视化中。
下面是蒙德里安后期的一些代表作。
（图片）
如果忽略图片上很难呈现的笔触细节，以及同色间细微色差的立体变化。可以直观看到，蒙德里安运用黑色的线条将空间分割开来，以红黄蓝三原色做搭配对比。此时此刻，有人一定认为这幅画的构图与色彩是十分"简单的"。其实不然，蒙德里安对色彩本身是十分考究的。红黄蓝三种颜色，听起来十分普通与简单，甚至有点简陋，但却是唯一一种被蒙德里安沿用至创作后期的色彩组合，不仅如此，这种经典搭配更被认为是影响后现代主义风格绘画思想的渊源之一。在色彩的对比与搭配中，红黄蓝三原色如同数学原理中的三角关系，有着天然的和谐与稳固，无论是何种搭配，都不会难看。此外，黑色的线段又节奏性地分割了白色的空间，搭建起整个绘画作品的秩序。可以说，蒙德里安风格的基础元素正是由两种否定的黑与白进行分割与构图，以及率真纯粹的三原色间的三角关系的相互对立与平衡，共同构成的。这样单纯的色彩运用与极简的构图风格与可视化的原则非常契合。
事实上，蒙德里安在艺术绘画领域也一直被认为在数理逻辑性的基础上表现直觉地绘画，评论家评论他的画如同程序一般，是精确严格的。无疑，蒙德里安的绘画与可视化设计有着难以言明的天然亲缘关系。尽管这些只是蒙德里安画作的皮毛，但是对于我们的可视化探索，构建基础艺术风格的工作是足够的。
2.3蒙德里安风格设计先驱（Previous Mondrian Designs）
在此之前，也有其他前辈学者在信息可视化与艺术可视化的结合的领域做出过先驱探索
Mark A. Blythe, Andrew F. Monk, Kees Overbeeke and Peter C. Wright创造了一个关于今天及未来四日哥德堡天气预报的一个可视化设计。如图，每个彩色正方形代表一天的天气。从左到右，从上到下，第一个正方形表示今天的天气，第二个正方形表示明天的天气，依此类推。每个方格大小反映了当天的温度。方格大代表温暖，放格小代表寒冷。正方形的颜色显示当天的天气，黄色代表晴天，蓝色代表雨天，红色代表阴天。
这个原型被安装在瑞典哥德堡的一所大学楼内的一块等离子屏幕上进行评估。随后，用户反馈显示，绝大多数人都非常认可可视化的艺术表现力，但是却很难从这个天气预报的可视化设计中读取天气信息。即使是经过讲解的使用者，依然对于这样的风格很不适应，在读取信息上产生了很大的困难。
同样的，在另一个研究中也出现了相似的问题。Skog，Ljungblad and Holmequist created a visualization that shows the departure times of the buses on line 16, two in each direction. 每个正方形色块代表一辆公交车。中央空白的大小显示了巴士离开大学站之前的时间，方块越小，距离巴士离开的时间就越近。颜色反映了使用者从大学走到公交站台的时间。蓝色意味着有足够的时间赶上巴士，黄色意味着是时候收拾东西并开始步行到公交站，红色意味着时间紧迫，你可能不得不跑去赶公交车。方块的位置表示公交车前进的方向，右侧方格表示开往市中心方向，左侧方格表示从市中心开出的方向。为了方便乘客判断方向，他们还增加了一条地理位置信息，即在右侧加上一条代表河流的蓝色的线段。这样的设计不可谓不贴心，相比上一个设计，为了方便用户理解，这份可视化设计中包含了更多的信息，在细节上下了更多的功夫。但是用户调研显示，乘客依旧在读图理解中产生了极大地困惑。
2.4先驱设计探讨
以上两个可视化设计都是以信息可视化为基础，从艺术的角度出发，通过对蒙德里安风格的模仿，完成信息可视化与艺术可视化的融合。遗憾的是，两次设计完成后的用户反馈结果均不理想，使用者却面临了种种困难，用户读取信息的成本大大增加。众所周知，在信息可视化领域里，辅助用户更直观高效地接收信息是至关重要的。但是在这个案例中，这种用户不友好体验严重违背了产品设计的核心原则。或许它是一幅不错的数据艺术作品，但谁也无法认同一个需要用户刻意学习，长期养成用户习惯的可视化作品是一个优秀的公交报站/天气预报信息可视化系统，甚至他可能还不如一段生硬的文字更直接。
3，需求
在决定设计方向之初，通过对身边同学的简单访谈，我得知大家都更希望有一个贴近生活的可视化作品被做出来。于是我也很自然地把目光放在了学校边上的澳门国际机场。通过调研，我发现澳门国际机场网站上的航班时刻表非常刻板，仅仅是把所有航班数据罗列在一起，毫不分类，这对于想要出行的旅客是十分不便的。假如我是一个想要旅行的旅客，我想要得知从澳门国际机场出发，可以到达哪些目的地，我就必须从漫长的信息表单中逐条浏览，并且，航班时刻表本身所能提供的信息也是非常匮乏的。并且，不止澳门国际机场如此，几乎所有国内机场都存在这个问题。我认为，这是一个很好的机会以澳门国际机场为蓝本，为旅客提供可读且愉快的可视化体验。
4，成品
4.1为什么选择D3 ?
（1），D3相对比较底层，采用了类似jQuery的链式语法。代码足够简洁与友好，无需考虑复杂的结构与过多的算法
（2），尽管D3很像是一个数学库，但是D3也可以很好地绘图。D3将大量复杂的算法封装成一个一个"布局"，包括饼状图，树图等等。能够被用于各种图标的制作。
（3），D3是一个对数据进行可视化的javascript库，严格遵循了web标准(HTML,SVG,CSS)，在提供了强大的可视化组件同时，对于目前主流的框架也可以很好地兼容。
（4），D3本身是一个开源的库，这种开源的精神也养育了一个开放乐于分享的D3社区。从4.X开始，D3同时支持HTML5用于绘图的元素：SVG与Canvas。这有利于我们绘制矢量图和标量图。
（50，D3的计算与绘图相对独立。一般地，我们将数据转化成图表，都需要计算和绘图。计算和绘图通常被封装成一个整体。在D3中，计算和绘图是分开的。这样的设计极大地提高了使用者的自由度，可以帮助使用者在繁杂的项目中更轻易地调整细节，便于操作。
正是这些平衡的特性帮助D3从种类繁多的前端可视化库中脱颖而出。
4.2成品
可视化设计功能介绍
・导入中国地图
・鼠标滑轮缩放地图
・通航城市被标注
・鼠标滑过航线显示航线两端城市名称及航班时刻信息
・颜色区分不同航司执飞的航线
・蒙德里安风格化
在这个澳门国际机场与内地通航航点可视化地图中，各省的分界线用加粗的黑色线条显示，底色为白色，部分不同省份用不同颜色标注。航班时刻表经过重新分类整理后，内地通航航点按真实经纬度建立坐标标注在地图中，以线段连结澳门国际机场。航线经过分类，同一家航空公司的航线相同颜色的线段标注，便于用户选择喜爱的航空公司。鼠标滑过显示航线的基本信息，用户可以轻易直观地获取航班航点信息。荷兰风格派的设计风格也保证了整个浏览体验是愉悦的。
值得注意的是，不同省份的不同颜色并不是随机设置的: 
・云南省，陕西省，山东省，涂成了红色，是未来极有可能开通的新航点
・蓝色的有湖南省和江西省，不可能开通的航点
・河北省用黄色标注，不太有可能开通的航点
・白色是由澳门国际机场已通航省份以及航程过远或过近的省份构成
4.3自我分析
是的，或许有人已经猜到了，这里隐含了一部分适合航空业内人士参考学习的专业信息。在配色之初，这个可视化设计早已被决定赋予更多内涵。我收集了内地机场旅客吞吐量信息，排列了top15。其中昆明长水机场，西安咸阳机场赫然在列。尽管云南与陕西二省都是旅游大省，输出的抵澳客源可能不足，澳门人口似乎也在理论上不足以支撑航司运营。但是根据澳门国际机场的规划，澳门国际机场的定位是粤港澳大湾区的区域性枢纽机场，以昆明长水机场和西安咸阳机场的本身的客流体量，会有很多潜在的旅客来到澳门转机，这足以吸引航司开通新的航点。此外，作为第十四名的青岛流亭机场，背靠人口众多历史悠久的山东省，这条航线的发展潜力也会深深地吸引航司开通航线。
蓝色的湖南江西两省因其地理位置距澳门不足800千米，加上珠海不断发达的高铁网络的冲击，航司很难在这样的航线上获利。又因澳门国际机场特殊的地形，航班的降落进场都需要额外绕道南边海域调转方向降落，以及内地航路规划的影响。这两省很难成为澳门国际机场的通航城市。
黄色的河北省则受自身特殊的地理位置影响。北部离北京首都国际机场和天津滨海国际机场两大机场很近，南部的人民通常会选择从郑州出发，也很难成为澳门国际机场的通航城市。
依照数据和分析填充的三原色很好地展示了澳门国际机场未来一段时间与内地航点可能合作发展方向。
除此之外，航点分布也自然地隐含了很多经济文化信息。在同样距澳门不足800公里的福建，从福州到厦门200公里内，分布了三个航点。而上海到南京200公里的直线距离上分布了四个航点。如此稠密的航点分布，印证了闽澳，苏澳之间的频繁经济文化交流。
不仅如此，对于澳门航空本身，如果对于图中数据加以分析，也能得到一些启示。
澳门航空航线专营权背景
澳门航空拥有澳门出发的航线专营权，专营权将于2020年后期满。所谓航线专营权，即其他本地航空公司要开设新航线，除了要得到澳门民航局的批准，也要得到澳门航空的首肯。这样的情况在世界其他地方是很少见的。澳门民航业界人士曾评论，澳门民航部门在航权问题上受制于专营合约，话事权全交给澳门航空，难以发挥政府推动行业发展的作用。随着澳门回归，经济高速发展，这种状况与澳门作为国际旅游城市的发展目标相悖，也不适应国家对澳门订下作为国际休闲旅游中心的定位。
尽管也有评论指出，澳门航空也并未完全紧握航权，排斥同行竞争，多条航线都有外航执飞。
数据
从数据整理的结果可以得知，这样的言论站不住脚。澳门国际机场通航的内地城市有21个，其中澳门航空（Air Macau）（包含母公司中国国际航空(Air China)）独享13条航线，厦门航空(Xiamen Air)3条，海南航空(Hainan Airlines)1条，竞争航线4条。除澳门经停杭州飞往大连的航线外，所有竞争对手运营的航线都是往返于澳门和他们各自的基地机场之间。在本文的可视化设计中，澳门出发的航线大部分都是象征着澳门航空的蓝色。可以说，在客流量最大最稳定的内地市场，澳门航空依然独揽专权。可以预计，倘若澳门特区政府开放航权，澳门航空将面临前所未有的竞争。
5，调研
为了获得本次可视化的反馈，我对校园内的8位同学进行了随机访问。（在访问之前，我向他们展示了澳门国际机场官网的航线表。）在没有任何提示的情况下，所有人都可以轻易在可视化文件中获取澳门国际机场的通航城市以及航班起降时间。
"挺好。所有的航班信息一目了然。比起在一条一条仔细翻找航班信息，这方便多了。"
也有同学略微缺乏常识，出现了地理问题: 
"我的地理不太好，没法一下找到哪个是我家附近的机场。这个是杭州嘛？"
这种情况我完全没有预料到。不过，考虑到如果大范围应用的话，用户来源非常复杂，这样的情况绝对不会是一个小概率事件。但是有了地图的辅助与航线的标注，用户阅读这份可视化设计的效率应该仍比一张生硬的航班数据表更高，并且好像也不全是坏事：
"通过它我好像对很多城市的地理位置都有了一个印象""原来常州也有航班，那我还去上海坐飞机干嘛？"
有地图辅助的可视化设计意外潜移默化地帮助用户补充了很多常识与新的信息。意外的还不只存在在地理方面: 
"涂色的省份是什么意思？"
在不经过解释的情况下，没有人知道不同颜色代表着什么，但是几乎所有人都对不同省份的不同配色的理由十分感兴趣。这仿佛变成了一个谜团深深地吸引着人们。原本只是利用专业数据模仿的蒙德里安风格的艺术可视化成了一个兴奋点。这一用户的好奇点或许对商业活动有所帮助，比如，航空公司或机场利用这一点进行市场营销。
很多同学都提出了很多热心的意见：
"滑轮缩放有一点生硬，不太好控制。如果可以改成鼠标双击缩放应该会好很多。"
"如果能加上一点动画的话就更好了。另外，最好有一个夜间版的效果供大家在夜晚使用。"
类似的用户反馈都是受制于我的技术原因导致的。与本文探讨的可视化无关。
一名艺术系的学生建议: 
"蒙德里安的画不可能有不规则图形存在，甚至都不会有斜线出现。"
关于这一点，我的初衷并不是完全复刻蒙德里安的创作。因为我必须保证信息可视化的部分是可读的，所以我只是解构出部分蒙德里安的元素与理念应用其中。
大体上，我得到的都是积极的反馈：
"在拿不定主意去哪儿玩的时候，这应该对我做决定很有帮助"
"我想如果它有了更多功能并且完全做好的话，我会很愿意使用它"
"它确实好看，可以商用化"
6.思考
6.1评论
诚然，这个可视化设计蕴含的数据不多，比起前文提到的两个设计都简单许多。不同的是，我的可视化设计将数据进行了分类处理。一共有两类，一类是包含航班时间，通航城市信息等等数据是旅客的需求，用来展示给旅客的；另一类数据是供专业人士分析用的，用来展示给业内人士的，是需要得到解读后才能理解的。由于旅客是 "澳门国际机场内地通航航点可视化"面向的主要对象，数量占据用户的绝大多数，所以在处理这部分数据的时候，我更加注重信息可视化。这部分数据在经过可视化后，变得更加明确，可读性强，阅读效率高。至于其余的专业数据，由于专业人士在使用这些数据时也必须先经过讲解与分析的过程，它们被直接展示出来的需求并不强烈。于是，这部分数据就可以转化成艺术装饰填充其中。正如同，每个人都知道蒙娜丽莎的微笑是迷人的，大碗岛的星期天下午是悠闲的。但是这其中隐含的含义，怕是只能交由作者本人才说得清。
6.2具体操作标准
有了这次简单的设计实践的经验，我大胆提出一个兼具信息可视化与艺术可视化的可视化设计理念。
具体到设计操作中。首先，设计者要为用户画像，他需要充分掌握用户特征，分清用户的主体与小众用户。然后，对数据进行分类。将普通的，绝大多数用户希望直观获取的数据与小众的，专业用户希望展示与分析的数据进行区分整理。最后我们就可以对这些数据进行分类可视化处理。大众的数据信息尽量发挥信息可视化的优势，专业化数据则以艺术可视化处理。
总结
总之，无论如何，我们都不能指望潜在用户立即熟悉所涉及的可视化技术。Don Ihde who is one of the very first philosophers in the US to make technology the subject of philosophical reflection states that "For a technology to hold an embodiment relation it must be technically transparent, it must allow its user to 'see through' it."这就是我所理解的好的可视化设计。文章一开始，我提到了在信息可视化与艺术可视化之间"寻找平衡"。事实上，没有什么是绝对好的和坏的平衡。所谓平衡更多是在于权衡利弊，留下更需要展示的部分，处理相对不重要的部分。更具体一点地说，兼具信息可视化与艺术可视化优点的可视化作品是需要对数据进行分类处理的，有的数据是可以被作为密码隐藏在图形内，有些被人们高频需求的数据是必须直观展示在图像上的。规避两个极端之间的矛盾，不损失任何信息可视化与艺术可视化的任何一方，而是根据数据特征与用户特征分类，将矛与盾放在两个平行维度。这种不对称的构想可以让两者充分发挥各自的功用，避免任何一方妥协。
未来工作
正如调研中很多同学提到的，这个可视化设计还存在着很多细节有待提高，尽管这些小问题与可视化的探讨无关。除此之外，那位艺术系同学的意见与我的愿望不谋而合。我会尝试寻找将地图进行像素化的方式，也就是把每个形状不规则的省份合理处理成一个个矩形，从而把地图彻底转换成一个标准的蒙德里安式构型。我相信抽象的效果能够大大提升可视化的美感，给用户带来耳目一新的体验。尽管这同样脱离了本文所讨论的范畴，但是对我来说这将会是一次有趣的挑战。同时我也相信，蒙德里安的理念因其与生俱来的程序性与严谨性，在可视化领域依然有很大的创作空间，会有很多的人通过几何数学，计算机图形学原理，数据分类等科学手段，继续在这条路上探索前行，并且取得开创性的突破，创造出新的可视化构型，更好地为作出基础性努力。至于我个人，尽管目前我对于D3的应用太过稚嫩，但是我能够隐约感受到开源自由的D3所带来的魅力与蕴藏的潜力。我也希望在以后可以继续对D3保持学习与关注。
